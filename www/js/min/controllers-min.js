var hive=angular.module("hive.controllers",[]);hive.controller("MainCtrl",function(){}),hive.controller("LoginCtrl",function(e,o,t){function r(e){switch(e.provider){case"password":return e.password.email}}var s=new Firebase("https://chattemplate.firebaseio.com/");e.register=function(e,o){s.createUser({email:e,password:o},function(e,o){e?console.log("Error creating user:",e):t.go("chat")})},e.login=function(e,o){s.authWithPassword({email:e,password:o},function(e,o){e?console.log("Login Failed!",e):t.go("chat")})};var i=!0;s.onAuth(function(e){e&&i&&s.child("users").child(e.uid).set({provider:e.provider,email:r(e)})}),e.logout=function(){s.unauth(),t.go("login")}}),hive.controller("chatCtrl",function(e,o,t,r){function s(o){e.messages=o.val()}var i=new Firebase("https://chattemplate.firebaseio.com/"),n=i.child("messages");e.submitMessage=function(){var o=n.push();o.set({messageDescription:e.messageDescription}),e.master=null,e.reset=function(){e.messageDescription=angular.copy(e.master),e.form&&e.form.$setPristine()},e.reset()};var a=new Firebase("https://chattemplate.firebaseio.com/messages");a.on("value",function(e){r(function(){s(e),console.log(e)})});var c=$("#div1");c.scrollTop(c.prop("scrollHeight"))});